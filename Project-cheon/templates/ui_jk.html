<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analytics Dashboard</title>
    <link rel="stylesheet" href="../static/css/ui_jk.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar">
        <div class="logo">
            <div class="logo-icon"></div>
            <h2>Logo Here</h2>
        </div>
        
        <ul class="nav-menu">
            <li class="nav-item">
                <a href="#" class="nav-link active">
                    <span class="nav-icon">ğŸ </span>
                    Dashboard
                </a>
            </li>
            <li class="nav-item">
                <a href="#" class="nav-link">
                    <span class="nav-icon">ğŸ’¬</span>
                    Messages
                </a>
            </li>
            <li class="nav-item">
                <a href="#" class="nav-link">
                    <span class="nav-icon">ğŸ“Š</span>
                    Report
                </a>
            </li>
            <li class="nav-item">
                <a href="#" class="nav-link">
                    <span class="nav-icon">âš™ï¸</span>
                    Setting
                </a>
            </li>
            <li class="nav-item">
                <a href="#" class="nav-link">
                    <span class="nav-icon">ğŸ”’</span>
                    Privacy
                </a>
            </li>
        </ul>

        <div class="bottom-controls">
            <div class="toggle-control">
                <span>ğŸŒ™ Light Mode</span>
                <div class="toggle-switch"></div>
            </div>
            <a href="#" class="withdraw-btn">
                <span>ğŸ’° Withdraw</span>
            </a>
            <button class="logout-btn">ğŸ“¤ Logout</button>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <div class="header">
            <h1 class="page-title">Analytics</h1>
            <div class="header-controls">
                <div class="date-selector">14 Feb 2019 - 15 Feb 2019</div>
                <button class="notification-btn">ğŸ””</button>
                <div class="profile-btn">YN</div>
            </div>
        </div>

        <div class="dashboard-grid">
            <div class="weather-card">
                <div class="weather-header">
                    <div class="weather-title">Lorem</div>
                    <div class="weather-stat">250</div>
                </div>

                <div class="metric-cards">
                    <div class="metric-card one">
                        <div style="width: 8px; height: 8px; background: #2196f3; border-radius: 50%; margin: 0 auto 5px;"></div>
                    </div>
                    <div class="metric-card two">
                        <div style="width: 8px; height: 8px; background: #2196f3; border-radius: 50%; margin: 0 auto 5px;"></div>
                    </div>
                    <div class="metric-card blue">
                        <div style="width: 8px; height: 8px; background: #2196f3; border-radius: 50%; margin: 0 auto 5px;"></div>
                    </div>
                    <div class="metric-card orange">
                        <div style="width: 8px; height: 8px; background: #ff9800; border-radius: 50%; margin: 0 auto 5px;"></div>
                    </div>
                    <div class="metric-card pink">
                        <div style="width: 8px; height: 8px; background: #e91e63; border-radius: 50%; margin: 0 auto 5px;"></div>
                    </div>
                </div>
            </div>

            <div class="chart-bars">
                <div class="chart-box">
                <h2>ì‘ë¬¼ë³„ í™˜ê²½ í‰ê·  ê·¸ë˜í”„</h2>
                <canvas id="barChart" width="700" height="350"></canvas>
                </div>
            </div>

            <div class="ranking-table-container">
                <div class="ranking-table-header">
                    <h2>ê°€ê²© ë°ì´í„°</h2>
                    <button class="ranking-select-btn">SELECT</button>
                </div>
                <div class="ranking-table-wrapper">
                    <table class="ranking-table">
                    <thead>
                        <tr>
                        <th data-column="rank">ë²ˆí˜¸</th>
                        <th data-column="name">ì‘ë¬¼ëª…</th>
                        <th data-column="price">ì†Œë§¤ê°€ê²©</th>
                        <th data-column="change">ë“±ë½ë¥ </th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for row in ranking_data %}
                        <tr>
                        <td>{{ loop.index }}</td>
                        <td>{{ row.itemname }} ({{ row.unit }})</td>
                        <td>{{ row.price }}</td>
                        <td>{{ row.weekprice }}%</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                    </table>
                </div>
            </div>
        </div>


    </div>

    <script>
        // ì‘ë¬¼ë³„ í™˜ê²½ í‰ê·  ê·¸ë˜í”„
        const ctx = document.getElementById('barChart').getContext('2d');
        const barChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: {{ compare_dict.labels | tojson }},
            datasets: [
            {
                label: 'ì˜¨ë„_ë‚´ë¶€ (Â°C)',
                backgroundColor: '#FF6B6B',
                data: {{ compare_dict.temp | tojson }}
            },
            {
                label: 'ìƒëŒ€ìŠµë„_ë‚´ë¶€ (%)',
                backgroundColor: '#4ECDC4',
                data: {{ compare_dict.humid | tojson }}
            },
            {
                label: 'ì¼ì‚¬ëŸ‰_ì™¸ë¶€ (W/mÂ²)',
                backgroundColor: '#FFE66D',
                data: {{ compare_dict.solar | tojson }}
            }
            ]
        },
        options: {
        plugins: {
            legend: {
            display: true,
            position: 'top',
            align: 'end',
            labels: {
                padding: 20,
                boxWidth: 20,
            }
            }
        },
        layout: {
            padding: {
            top: 20,    // ì „ì²´ ì°¨íŠ¸ ë‚´ ì—¬ë°± ì¡°ì •
            right: 30,  // ì˜¤ë¥¸ìª½ ì—¬ë°± ëŠ˜ë ¤ì„œ ë²”ë¡€ê°€ ë” ì˜¤ë¥¸ìª½ì— ìœ„ì¹˜í•˜ë„ë¡
            left: 10,
            bottom: 10
            }
        }
        }
        });
    </script>

    <script>
        // ëª¨ë“  nav-link ìš”ì†Œ ì„ íƒ
        const navLinks = document.querySelectorAll('.nav-link');

        // ê° ë§í¬ì— í´ë¦­ ì´ë²¤íŠ¸ ê±¸ê¸°
        navLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault(); // ë§í¬ ì´ë™ ë§‰ê¸°

            // ëª¨ë“  ë§í¬ì—ì„œ active ì œê±°
            navLinks.forEach(item => item.classList.remove('active'));

            // í´ë¦­í•œ ë§í¬ì—ë§Œ active ì¶”ê°€
            this.classList.add('active');
        });
        });

        const toggle = document.querySelector('.toggle-switch');

        toggle.addEventListener('click', () => {
        toggle.classList.toggle('active');
        });
    </script>
</body>
</html>